{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lexx\\\\Desktop\\\\food\\\\src\\\\pages\\\\products\\\\products.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, createElement as _createElement } from \"react\";\nimport { CreateProduct } from \"./create-product\";\nimport { getProducts } from \"../../request/list_request\";\nimport { FoodProduct } from \"../../components/food_component/food_card\";\nimport { removeOneProduct } from \"../../request/request-products\";\nimport { EditProduct } from \"./edit-product\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Products = () => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [isEdit, setIsEdit] = useState({\n    status: false,\n    id: null\n  });\n  const addProduct = () => {\n    setIsModalOpen(true);\n  };\n  useEffect(() => {\n    getProducts().then(({\n      data\n    }) => {\n      setProducts(data.map(elem => ({\n        ...elem,\n        cost: 10\n      })));\n    }).catch(() => null);\n  }, []);\n  const removeProduct = id => {\n    removeOneProduct(id).then(({}) => {\n      setProducts(prevValue => prevValue.filter(product => product.id !== id));\n    }).catch(() => alert(\"Ошибка\"));\n  };\n  const onCloseModal = () => {\n    setIsModalOpen(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: addProduct,\n      children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        marginLeft: 16,\n        fontSize: 20,\n        fontWeight: 600\n      },\n      children: products.length\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: 8,\n        margin: \"40px 20px\"\n      },\n      children: products.map(product => /*#__PURE__*/_createElement(FoodProduct, {\n        ...product,\n        key: product.id,\n        name: product.title,\n        price: product.cost,\n        onRemove: removeProduct,\n        onEdit: setIsEdit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }\n      }))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CreateProduct, {\n      setProducts: setProducts,\n      onCloseModal: onCloseModal,\n      isModalOpen: isModalOpen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), isEdit.status && /*#__PURE__*/_jsxDEV(EditProduct, {\n      setProducts: setProducts,\n      onCloseModal: setIsEdit,\n      isModalOpen: isEdit.status,\n      initialValues: products.filter(product => product.id === isEdit.id)[0],\n      setIsEdit: setIsEdit,\n      id: isEdit.id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(Products, \"ZTVyRjG8TzbLvQYDM0ms9gps3FY=\");\n_c = Products;\nvar _c;\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"names":["useEffect","useState","createElement","_createElement","CreateProduct","getProducts","FoodProduct","removeOneProduct","EditProduct","jsxDEV","_jsxDEV","Products","_s","products","setProducts","isModalOpen","setIsModalOpen","isEdit","setIsEdit","status","id","addProduct","then","data","map","elem","cost","catch","removeProduct","prevValue","filter","product","alert","onCloseModal","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","style","marginLeft","fontSize","fontWeight","length","display","gap","margin","key","name","title","price","onRemove","onEdit","__self","__source","initialValues","_c","$RefreshReg$"],"sources":["C:/Users/Lexx/Desktop/food/src/pages/products/products.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { CreateProduct } from \"./create-product\";\r\nimport { getProducts } from \"../../request/list_request\";\r\nimport { FoodProduct } from \"../../components/food_component/food_card\";\r\nimport { removeOneProduct } from \"../../request/request-products\";\r\nimport { EditProduct } from \"./edit-product\";\r\n\r\nexport const Products = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n\r\n  const [isEdit, setIsEdit] = useState({ status: false, id: null });\r\n\r\n  const addProduct = () => {\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getProducts()\r\n      .then(({ data }) => {\r\n        setProducts(data.map((elem) => ({ ...elem, cost: 10 })));\r\n      })\r\n      .catch(() => null);\r\n  }, []);\r\n\r\n  const removeProduct = (id) => {\r\n    removeOneProduct(id)\r\n      .then(({}) => {\r\n        setProducts((prevValue) =>\r\n          prevValue.filter((product) => product.id !== id)\r\n        );\r\n      })\r\n      .catch(() => alert(\"Ошибка\"));\r\n  };\r\n\r\n  const onCloseModal = () => {\r\n    setIsModalOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={addProduct}>Добавить продукт</button>\r\n      <span style={{ marginLeft: 16, fontSize: 20, fontWeight: 600 }}>\r\n        {products.length}\r\n      </span>\r\n      <div style={{ display: \"flex\", gap: 8, margin: \"40px 20px\" }}>\r\n        {products.map((product) => (\r\n          <FoodProduct\r\n            {...product}\r\n            key={product.id}\r\n            name={product.title}\r\n            price={product.cost}\r\n            onRemove={removeProduct}\r\n            onEdit={setIsEdit}\r\n          />\r\n        ))}\r\n      </div>\r\n      <CreateProduct\r\n        setProducts={setProducts}\r\n        onCloseModal={onCloseModal}\r\n        isModalOpen={isModalOpen}\r\n      />\r\n      {isEdit.status && (\r\n        <EditProduct\r\n          setProducts={setProducts}\r\n          onCloseModal={setIsEdit}\r\n          isModalOpen={isEdit.status}\r\n          initialValues={\r\n            products.filter((product) => product.id === isEdit.id)[0]\r\n          }\r\n          setIsEdit={setIsEdit}\r\n          id={isEdit.id}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}